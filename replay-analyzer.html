<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja" xmlns:og="http://ogp.me/ns#">

<head>
  <meta charset="utf-8">
  <title>Minion Masters Replay Analyzer</title>
  <link rel="stylesheet" href="minimas.css" />
  <link rel="icon" type="image/png" href="icon.png" />
  <script src="replay-analyzer.js" defer></script>
</head>

<body>
  <div id="result" class="result">
    <div class="label summary-box">
      <div class="summary--child">試合数
        <div id="match-count" class="match-count"></div>
      </div>
      <div class="summary--child">
        <div>勝率 - <span id="wins"></span>勝<span id="loses"></span>敗</div>
        <div class="win-rate"><span id="win-rate-integer"></span><span class="win-rate--super">.<span
              id="win-rate-decimal"></span></span><span class="win-rate--percent">%</span>
        </div>
      </div>
    </div>
    <div class="flex-row">
      <select id="summary-selector" class="input">
        <option data-t-head="master" data-t-body="yourMaster" class="graph-selector--option">自分のマスター
        </option>
        <option data-t-head="deck" data-t-body="yourDeck" class="graph-selector--option" selected>自分のデッキ
        </option>
        <option data-t-head="card" data-t-body="yourCard" class="graph-selector--option">自分のカード
        </option>
        <option data-t-head="master" data-t-body="otherMaster" class="graph-selector--option">自分以外の使用マスター
          <!--マスター名,延べ試合数-->
        </option>
        <option data-t-head="card" data-t-body="otherCard" class="graph-selector--option">自分以外の使用カード
        </option>
        <option data-t-head="duration" data-t-body="duration" class="graph-selector--option">試合時間
          <!--最短,最長,時間ごとの勝率-->
        </option>
        <option data-t-head="gameMode" data-t-body="gameMode" class="graph-selector--option">ゲームモード
        </option>
      </select>
    </div>
    <table id="summary-table" class="detail-table">
      <thead>
        <tr id="master-summary-thead" hidden>
          <th class="detail-table--th">試合数</th>
          <th class="detail-table--th">勝率</th>
          <th class="detail-table--th">勝</th>
          <th class="detail-table--th">敗</th>
          <th class="detail-table--th">マスター</th>
        </tr>
        <tr id="deck-summary-thead" hidden>
          <th class="detail-table--th">試合数</th>
          <th class="detail-table--th">勝率</th>
          <th class="detail-table--th">勝</th>
          <th class="detail-table--th">敗</th>
          <th class="detail-table--th">マスター</th>
          <th class="detail-table--th">デッキ</th>
        </tr>
        <tr id="card-summary-thead" hidden>
          <th class="detail-table--th">試合数</th>
          <th class="detail-table--th">勝率</th>
          <th class="detail-table--th">勝</th>
          <th class="detail-table--th">敗</th>
          <th class="detail-table--th">カード</th>
          <!--th>延べ枚数</th-->
        </tr>
        <tr id="duration-summary-thead" hidden>
          <th class="detail-table--th">試合数</th>
          <th class="detail-table--th">勝率</th>
          <th class="detail-table--th">勝</th>
          <th class="detail-table--th">敗</th>
          <th class="detail-table--th">試合時間</th>
        </tr>
        <tr id="game-mode-summary-thead" hidden>
          <th class="detail-table--th">試合数</th>
          <th class="detail-table--th">勝率</th>
          <th class="detail-table--th">勝</th>
          <th class="detail-table--th">敗</th>
          <th class="detail-table--th">モード</th>
        </tr>
      <tfoot class="detail-table--tfoot">
        <tr>
          <td>
          <td>
          <td>
          <td>
          <td>
          <td>
          <td>
        </tr>
      </tfoot>
    </table>
    <form name="filter" class="label">
      <table class="filter--table">
        <tr>
          <th class="filter--th">ゲームモード</th>
          <td class="filter--td">
            <div class="fieldset">
              <label><input type="checkbox" name="gameMode1v1" hidden><span
                  class="checkbox-label button">1v1</span></label>
              <label><input type="checkbox" name="gameModePremade" hidden><span
                  class="checkbox-label button">2v2</span></label>
              <label hidden><input type="checkbox" name="gameMode2v2" hidden><span
                  class="checkbox-label button">野良</span></label>
              <label hidden><input type="checkbox" name="gameModeNPC" hidden checked><span
                  class="checkbox-label button">NPC</span></label>
            </div>
          </td>
        <tr>
          <th class="filter--th">あなたの名前</th>
          <td class="filter--td">
            <div class="fieldset">
              <input name="yourName" list="player-names" class="input" />
              <label><input type="radio" name="you" value="include" checked hidden><span
                  class="radio-label button">を含む</span></label>
              <label><input type="radio" name="you" value="exclude" hidden><span
                  class="radio-label button">以外</span></label>
              <label><input type="radio" name="you" value="any" hidden><span
                  class="radio-label button">気にしない</span></label>
            </div>
          </td>
        <tr>
          <th class="filter--th">試合時間</th>
          <td class="filter--td">
            <input type="number" name="gtMins" step="1" min="0" max="99" value="0" data-default-value="0"
              class="number2" />
            <span class="spacing1">:</span>
            <input type="number" name="gtSecs" min="0" max="59" value="0" class="number2" />
            <span class="spacing2">～</span>
            <input type="number" name="ltMins" min="0" max="99" value="99" class="number2" />
            <span class="spacing1">:</span>
            <input type="number" name="ltSecs" min="0" max="59" value="59" class="number2" />
          </td>
        <tr>
          <th class="filter--th">決着日時</th>
          <td class="filter--td">
            <input type="date" name="fromDate" class="date calendar-picker" />
            <input type="time" name="fromTime" class="time calendar-picker" />
            <span class="spacing2">～</span>
            <input type="date" name="toDate" class="date calendar-picker" />
            <input type="time" name="toTime" class="time calendar-picker" />
          </td>
      </table>
    </form>
    <div>
      <table id="replay-list" class="detail-table">
        <thead id="replay-sorter">
          <tr>
            <th data-sort="time" class="detail-table--th sortable-th">決着日時</th>
            <th data-sort="duration" class="detail-table--th sortable-th">試合時間</th>
            <th data-sort="gameMode" class="detail-table--th sortable-th">モード</th>
            <th data-sort="winTeamId" class="detail-table--th sortable-th">勝敗</th>
            <th class="detail-table--th">プレイヤー</th>
            <th class="detail-table--th">マスター</th>
            <th class="detail-table--th">デッキ</th>
          </tr>
        </thead>
        <tfoot class="detail-table--tfoot">
          <tr>
            <td>
            <td>
            <td>
            <td>
            <td>
            <td>
            <td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
  <div class="loading-screen">ロード中</div>
	<div class="label">※Chrome以外で動くか分かりません / Chrome Recommended</div>
  <div class="label">
    <table class="filter--table">
      <tr>
        <th class="filter--th">Local Replay<br />Folder</th>
        <td class="filter--td"> 警告が出ると思われますが、<br />このツールは一度ページを読み込めばオフラインでも動作するので、<br />サーバーにアップロード・保存はされません<br />
          <input type="file" id="replay-directory" multiple webkitdirectory />
        </td>
    </table>
  </div>
  <div class="label">
    仕様について
    <ul>
      <li>複数選択で何も選択しない場合は、全て選択している場合と同じ動作になります。</li>
      <li>試合のプレイヤーはあなた>相方>勝者>その他の順に並び替えられます。</li>
      <li>「あなたの名前」には試合数が一番多いプレイヤーの名前が自動的に設定されます。</li>
    </ul>
  </div>
  <div class="label">
    バグ・未実装など
    <ul>
      <li>ゲームモード「野良」「NPC」判定ができてません</li>
      <li>「あなたの名前」を変更しても何も起こりません</li>
      <li>フィルターの変更でスクロール位置が(正常動作ではありますが)ひどいことになります</li>
    </ul>
  </div>
  <footer class="center">created by <a href="https://twitter.com/tiramisu_oTATo" class="link">@tiramisu_oTATo</a>
    (unofficial)<br>If there are any problems, please contact me.(note: This tool is WIP)<br>問題があればご連絡ください(開発中のツールです)
  </footer>
  <datalist id="player-names">
    <option value="Chocolate">
    <option value="Coconut">
    <option value="Mint">
    <option value="Strawberry">
    <option value="Vanilla">
  </datalist>
  <datalist id="master-names">
    <option value="Stormbringer">
    <option value="Ratbo">
    <option value="Milloween">
    <option value="Morellia">
    <option value="King Puff">
  </datalist>
  <datalist id="card-names">
    <option value="Cleaver">
    <option value="Canon Roller">
    <option value="Warrior">
    <option value="Swarmers">
    <option value="Scrat Pack">
  </datalist>
</body>

</html>